<form [formGroup]="signUpForm" (ngSubmit)="signUp()" novalidate>
  <md-input-container>
    <input mdInput formControlName="name" placeholder="{{i18n.entSecurityUser.NAME}}">
    <md-hint *ngIf="userNameFormControl.touched && userNameFormControl.hasError('required')">
      {{i18n.entSecurityUser.NAME__REQUIRED}}
    </md-hint>
    <md-hint *ngIf="userNameFormControl.touched && userNameFormControl.hasError('maxlength')">
      {{i18n.entSecurityUser.NAME__CAN_NOT_BE_LONGER_THAN_100_CHARACTERS}}
    </md-hint>
  </md-input-container>
  <md-input-container>
    <input mdInput formControlName="email" placeholder="{{i18n.entSecurityUser.EMAIL}}" (ngModelChange)="emailChanges()">
    <md-hint *ngIf="emailFormControl.touched && emailFormControl.hasError('required')">
      {{i18n.entSecurityUser.EMAIL__REQUIRED}}
    </md-hint>
    <md-hint *ngIf="emailFormControl.touched && emailFormControl.hasError('maxlength')">
      {{i18n.entSecurityUser.EMAIL__CAN_NOT_BE_LONGER_THAN_1000_CHARACTERS}}
    </md-hint>
    <md-hint *ngIf="emailFormControl.touched && emailFormControl.hasError('email')">
      {{i18n.entSecurityUser.EMAIL__INVALID}}
    </md-hint>
  </md-input-container>
  <md-input-container>
    <input mdInput formControlName="password" placeholder="{{i18n.entSecurityUser.PASSWORD}}" type="password">
    <md-hint *ngIf="passwordFormControl.touched && passwordFormControl.hasError('required')">
      {{i18n.entSecurityUser.PASSWORD__REQUIRED}}
    </md-hint>
    <md-hint *ngIf="passwordFormControl.touched && passwordFormControl.hasError('minlength')">
      {{i18n.entSecurityUser.PASSWORD__CAN_NOT_BE_SHORTER_THAN_4_CHARACTERS}}
    </md-hint>
    <md-hint *ngIf="passwordFormControl.touched && passwordFormControl.hasError('maxlength')">
      {{i18n.entSecurityUser.PASSWORD__CAN_NOT_BE_LONGER_THAN_1000_CHARACTERS}}
    </md-hint>
  </md-input-container>
  <md-input-container>
    <input mdInput formControlName="repeatPassword" placeholder="{{i18n.uiSecurity.REPEAT_PASSWORD}}" type="password">
    <md-hint *ngIf="repeatPasswordFormControl.touched && repeatPasswordFormControl.hasError('repeatPassword')">
      {{i18n.entSecurityUser.PASSWORD_CONFIRMATION__DO_NOT_MATCH}}
    </md-hint>
  </md-input-container>

  <md-select formControlName="language" placeholder="{{i18n.entSecurityUser.LANGUAGE}}">
    <md-option *ngFor="let translation of i18nService.getTranslations()" value="{{translation.TRANSLATION_LANGUAGE_CODE}}">
      <span><img src="{{translation.TRANSLATION_LANGUAGE_FLAG_PATH}}"></span> {{translation.TRANSLATION_LANGUAGE_NAME}}
    </md-option>
  </md-select>

  <div class="checkbox-container">
    <md-checkbox formControlName="agreementWithTermsOfUsage">{{i18n.uiSecurity.AGREE_WITH}} <a routerLink="/terms">{{i18n.uiSecurity.TERMS}}</a>
      {{i18n.uiSecurity.OF_USAGE}}</md-checkbox>
    <md-hint *ngIf="agreementWithTermsOfUsageFormControl.touched && agreementWithTermsOfUsageFormControl.hasError('required')">
      {{i18n.uiSecurity.NEED_USER_AGREEMENT_WITH_TERMS_TO_SIGN_UP}}
    </md-hint>
  </div>

  <div class="error-message" *ngIf="alreadyRegisteredEmail">
    <md-hint>{{i18n.uiSecurity.USER_WITH_THIS_EMAIL_HAS_BEEN_ALREADY_SIGNED_UP}}</md-hint>
  </div>
  <button type="submit" md-raised-button color="primary">{{i18n.uiSecurity.DO_SIGN_UP}}</button>
</form>
<div id="linksContainer">
  <span>{{i18n.uiSecurity.ALREADY_HAVE_AN_ACCOUNT_QUESTION}}</span>
  <a id="signUpLink" routerLink="/security/sign-in">{{i18n.uiSecurity.SIGN_IN}}</a>
</div>
